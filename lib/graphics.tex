\usepackage{graphicx}
\usepackage[font=footnotesize]{caption}

\newcommand\image[1]{\includegraphics[width=\textwidth]{img/#1}}

\newcommand\fig[2]{
  \begin{figure}[htb]
    \begin{margincap}
      \centering
      \image{#1}
      \caption{#2}
    \end{margincap}
  \end{figure}
}

\usepackage{placeins} % implements \FloatBarrier

\usepackage{fontawesome}

\usepackage[font=scriptsize, position=b]{subcaption}

% http://pgfplots.sourceforge.net/pgfplots.pdf
\usepackage{pgfplots}